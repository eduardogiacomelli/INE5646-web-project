class TicTacToe{constructor(){this.board=Array(9).fill(null),this.currentPlayer="X",this.gameActive=!1,this.players=[],this.botEnabled=!1,this.waitingForHuman=!1}checkWinner(t=this.board){const e=[[0,1,2],[3,4,5],[6,7,8],[0,3,6],[1,4,7],[2,5,8],[0,4,8],[2,4,6]];for(let r of e){const[e,i,s]=r;if(t[e]&&t[e]===t[i]&&t[e]===t[s])return t[e]}return t.every((t=>null!==t))?"tie":null}makeMove(t,e){if(!this.gameActive||null!==this.board[t]||this.currentPlayer!==e)return!1;this.board[t]=e;const r=this.checkWinner();return r?(this.gameActive=!1,{success:!0,winner:r,gameOver:!0}):(this.currentPlayer="X"===this.currentPlayer?"O":"X",{success:!0,winner:null,gameOver:!1})}reset(){this.board=Array(9).fill(null),this.currentPlayer="X",this.gameActive=this.players.length>=2||this.botEnabled}resetComplete(){this.board=Array(9).fill(null),this.currentPlayer="X",this.gameActive=!1,this.players=[],this.botEnabled=!1,this.waitingForHuman=!1}getGameState(){return{board:[...this.board],currentPlayer:this.currentPlayer,gameActive:this.gameActive,players:[...this.players],botEnabled:this.botEnabled,waitingForHuman:this.waitingForHuman}}addPlayer(t,e){return this.players.length<2&&(this.players.push({id:t,symbol:e}),2===this.players.length&&(this.gameActive=!0),!0)}removePlayer(t){this.players=this.players.filter((e=>e.id!==t)),this.players.length<2&&!this.botEnabled&&(this.gameActive=!1)}enableBot(){return 1===this.players.length&&(this.botEnabled=!0,this.waitingForHuman=!1,this.players.push({id:"bot",symbol:"O"}),this.gameActive=!0,!0)}waitForHuman(){return 1===this.players.length&&(this.botEnabled=!1,this.waitingForHuman=!0,this.players=this.players.filter((t=>"bot"!==t.id)),this.gameActive=!1,!0)}getBotMove(){const t=this.board.map(((t,e)=>null===t?e:null)).filter((t=>null!==t));if(0===t.length)return null;for(let e of t){if(this.board[e]="O","O"===this.checkWinner())return this.board[e]=null,e;this.board[e]=null}for(let e of t){if(this.board[e]="X","X"===this.checkWinner())return this.board[e]=null,e;this.board[e]=null}const e=[0,2,6,8].filter((e=>t.includes(e)));return e.length>0?e[Math.floor(Math.random()*e.length)]:t.includes(4)?4:t[Math.floor(Math.random()*t.length)]}}"undefined"!=typeof module&&module.exports&&(module.exports=TicTacToe);